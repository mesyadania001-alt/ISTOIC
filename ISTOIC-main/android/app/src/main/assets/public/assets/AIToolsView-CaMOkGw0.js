import{j as e,a1 as Ee,p as je,_ as le,aF as te,w as we,V as oe,Z as ce,C as se,O as de,aI as ye,X as J,a$ as xe,b0 as Ae,ak as ue,aL as Ie,aJ as pe,b1 as ee,aB as Te,e as Re,J as me,b2 as Se,b3 as _e,b4 as Oe,b5 as Pe,aK as ge,aN as Ge,x as Le,aX as De,g as Me,A as Ce,b6 as ze}from"./vendor-ui-BZMtAjw3.js";import{r as f,R as Fe}from"./vendor-react-BVD7n4_Z.js";import{_ as be,K as y,S as D,f as he,h as Y,d as M,U as P,F as C,H as Ue,i as $e,P as He,j as Ve,s as Ye}from"./index-BuNBQ-bW.js";import{o as qe}from"./imageOptimizer-20RPlnSI.js";import"./vendor-ai-CXmbpsrq.js";import"./vendor-firebase-Zql6DR9P.js";const Be=t=>{switch(t){case"GROQ":return D.synthesizeEndpoint([104,116,116,112,115,58,47,47,97,112,105,46,103,114,111,113,46,99,111,109,47,111,112,101,110,97,105,47,118,49,47,99,104,97,116,47,99,111,109,112,108,101,116,105,111,110,115]);case"DEEPSEEK":return D.synthesizeEndpoint([104,116,116,112,115,58,47,47,97,112,105,46,100,101,101,112,115,101,101,107,46,99,111,109,47,99,104,97,116,47,99,111,109,112,108,101,116,105,111,110,115]);case"OPENAI":return D.synthesizeEndpoint([104,116,116,112,115,58,47,47,97,112,105,46,111,112,101,110,97,105,46,99,111,109,47,118,49,47,99,104,97,116,47,99,111,109,112,108,101,116,105,111,110,115]);case"XAI":return D.synthesizeEndpoint([104,116,116,112,115,58,47,47,97,112,105,46,120,46,97,105,47,118,49,47,99,104,97,116,47,99,111,109,112,108,101,116,105,111,110,115]);case"OPENROUTER":return D.synthesizeEndpoint([104,116,116,112,115,58,47,47,111,112,101,110,114,111,117,116,101,114,46,97,105,47,97,112,105,47,118,49,47,99,104,97,116,47,99,111,109,112,108,101,116,105,111,110,115]);case"MISTRAL":return D.synthesizeEndpoint([104,116,116,112,115,58,47,47,97,112,105,46,109,105,115,116,114,97,108,46,97,105,47,118,49,47,99,104,97,116,47,99,111,109,112,108,101,116,105,111,110,115]);default:return""}},Ke=t=>Be(t);async function We(t,s,h,a,g){var x,N;const{GoogleGenAI:c}=await be(async()=>{const{GoogleGenAI:o}=await import("./vendor-ai-CXmbpsrq.js");return{GoogleGenAI:o}},[],import.meta.url),l=y.getKey(t);if(!l)throw new Error(`API Key for ${t} not found`);if(t==="GEMINI")try{const b=await new c({apiKey:l}).models.generateContent({model:s||"gemini-3-flash-preview",contents:{parts:[{inlineData:{data:h,mimeType:a}},{text:g}]}});return y.reportSuccess("GEMINI"),b.text||"No response."}catch(o){throw y.reportFailure("GEMINI",l,o),new Error(`Gemini Vision Failed: ${o.message}`)}if(["GROQ","OPENAI","OPENROUTER","MISTRAL"].includes(t)){const o=Ke(t),b={"Content-Type":"application/json",Authorization:`Bearer ${l}`};t==="OPENROUTER"&&(b["HTTP-Referer"]=window.location.origin,b["X-Title"]="IStoicAI Platinum");const n={model:s,messages:[{role:"user",content:[{type:"text",text:g},{type:"image_url",image_url:{url:`data:${a};base64,${h}`}}]}],max_tokens:1024};try{const u=await fetch(o,{method:"POST",headers:b,body:JSON.stringify(n)});if(!u.ok){const m=await u.text();throw new Error(`Vision API Error: ${m}`)}const p=await u.json();return y.reportSuccess(t),((N=(x=p.choices[0])==null?void 0:x.message)==null?void 0:N.content)||"No analysis generated."}catch(u){throw y.reportFailure(t,l,u),new Error(`${t} Vision Error: ${u.message}`)}}return`Provider ${t} does not support visual analysis in this kernel.`}async function Xe(t,s,h,a){var l,x,N;const{GoogleGenAI:g}=await be(async()=>{const{GoogleGenAI:o}=await import("./vendor-ai-CXmbpsrq.js");return{GoogleGenAI:o}},[],import.meta.url),c=y.getKey(t);if(!c)throw new Error(`API Key for ${t} not found`);if(t==="GEMINI")try{const o=new g({apiKey:c}),n=["1:1","16:9","9:16","4:3","3:4"].includes(a==null?void 0:a.aspectRatio)?a.aspectRatio:"1:1",u=s==="gemini-2.0-flash-exp"||!s?"gemini-2.5-flash-image":s,p=await o.models.generateContent({model:u,contents:{parts:[{text:h}]},config:{imageConfig:{aspectRatio:n}}});for(const m of((N=(x=(l=p.candidates)==null?void 0:l[0])==null?void 0:x.content)==null?void 0:N.parts)||[])if(m.inlineData)return y.reportSuccess("GEMINI"),`data:image/png;base64,${m.inlineData.data}`;throw new Error("No image data returned from Gemini.")}catch(o){throw y.reportFailure("GEMINI",c,o),o}if(t==="OPENAI")try{let o="1024x1024";s==="dall-e-3"&&((a==null?void 0:a.aspectRatio)==="16:9"?o="1792x1024":(a==null?void 0:a.aspectRatio)==="9:16"&&(o="1024x1792"));const b=D.synthesizeEndpoint([104,116,116,112,115,58,47,47,97,112,105,46,111,112,101,110,97,105,46,99,111,109,47,118,49,47,99,104,97,116,47,99,111,109,112,108,101,116,105,111,110,115]),n=await fetch(b,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${c}`},body:JSON.stringify({model:s||"dall-e-3",prompt:h,n:1,size:o,response_format:"b64_json",quality:"standard",style:"vivid"})});if(!n.ok){const m=await n.text();throw new Error(`DALL-E Error: ${m}`)}const p=(await n.json()).data[0].b64_json;if(p)return y.reportSuccess("OPENAI"),`data:image/png;base64,${p}`;throw new Error("No image data returned from OpenAI.")}catch(o){throw y.reportFailure("OPENAI",c,o),o}throw new Error(`Provider ${t} not supported for Image Generation.`)}const fe=f.memo(({title:t,icon:s,subtitle:h,isOpen:a,onToggle:g,children:c,isLoading:l,loadingText:x})=>e.jsxs("div",{className:`
        relative overflow-hidden rounded-[32px] md:rounded-[40px] border transition-all duration-500 ease-[cubic-bezier(0.23,1,0.32,1)] group transform-gpu will-change-[height,border-color,box-shadow]
        ${a?"bg-skin-card/95 border-accent/30 shadow-[0_20px_60px_-15px_rgba(0,0,0,0.3)] ring-1 ring-accent/20":"bg-skin-card/40 border-skin-border hover:border-accent/20 hover:bg-skin-card/60 hover:shadow-xl"}
        backdrop-blur-2xl
    `,children:[e.jsx("div",{className:"absolute inset-0 bg-[url('https://grainy-gradients.vercel.app/noise.svg')] opacity-[0.02] mix-blend-overlay pointer-events-none"}),e.jsx("div",{className:`absolute top-0 right-0 w-[400px] h-[400px] bg-accent/5 blur-[100px] rounded-full pointer-events-none transition-opacity duration-1000 will-change-opacity ${a?"opacity-100":"opacity-0"}`}),e.jsx("div",{className:`absolute top-0 left-0 h-[2px] bg-gradient-to-r from-transparent via-accent to-transparent shadow-[0_0_15px_var(--accent-color)] transition-all duration-1000 ease-in-out z-20 ${l?"w-full opacity-100":"w-0 opacity-0"}`}),e.jsxs("button",{onClick:g,className:"w-full p-6 md:p-8 flex flex-col md:flex-row md:items-center justify-between cursor-pointer text-left focus:outline-none relative z-10 gap-6 md:gap-0",children:[e.jsxs("div",{className:"flex items-start md:items-center gap-5 md:gap-8",children:[e.jsxs("div",{className:`
                    w-14 h-14 md:w-20 md:h-20 rounded-[20px] flex items-center justify-center text-skin-muted shadow-sm border border-skin-border transition-all duration-500 shrink-0 relative overflow-hidden transform-gpu
                    ${a?"bg-accent/10 text-accent border-accent/20":"bg-skin-surface group-hover:text-accent group-hover:scale-105 group-hover:rotate-3"}
                    ${l?"text-accent":""}
                `,children:[l&&e.jsx("div",{className:"absolute inset-0 bg-accent/20 animate-pulse"}),l?e.jsx(Ee,{size:28,className:"animate-spin relative z-10"}):Fe.cloneElement(s,{size:32,strokeWidth:1.5,className:"relative z-10"})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("h3",{className:`text-xl md:text-3xl font-black uppercase tracking-tighter italic leading-none transition-transform duration-300 ${a?"text-skin-text translate-x-1":"text-skin-text group-hover:translate-x-1"}`,children:t}),e.jsx("div",{className:"flex flex-col gap-1",children:e.jsx("p",{className:`text-[9px] md:text-[10px] tech-mono font-black uppercase tracking-[0.25em] flex items-center gap-2 transition-all duration-500 ${l?"text-accent animate-pulse":"text-skin-muted group-hover:text-skin-text"}`,children:l?x||"PROCESSING_DATA_STREAM...":h})})]})]}),e.jsxs("div",{className:"flex items-center gap-4 md:gap-6 absolute top-6 right-6 md:static",children:[!a&&e.jsxs("div",{className:"hidden md:flex items-center gap-2 opacity-0 group-hover:opacity-100 transition-opacity transform translate-x-4 group-hover:translate-x-0 duration-300",children:[e.jsx("span",{className:"text-[9px] font-black uppercase tracking-widest text-skin-muted",children:"Expand"}),e.jsx(je,{size:18,className:"text-accent"})]}),e.jsx("div",{className:`w-10 h-10 md:w-12 md:h-12 rounded-full bg-skin-surface flex items-center justify-center transition-all duration-500 border border-skin-border ${a?"rotate-180 bg-accent text-skin-card shadow-[0_0_20px_var(--accent-glow)] border-transparent":"text-skin-muted group-hover:text-skin-text"}`,children:e.jsx(le,{size:20})})]})]}),e.jsx("div",{className:`transition-[max-height,opacity] duration-700 ease-[cubic-bezier(0.2,0,0,1)] overflow-hidden will-change-[max-height,opacity] ${a?"max-h-[3000px] opacity-100":"max-h-0 opacity-0"}`,children:e.jsxs("div",{className:"px-4 pb-6 md:px-8 md:pb-8 pt-0 relative transform-gpu",children:[l&&e.jsx("div",{className:"absolute inset-0 bg-skin-card/80 backdrop-blur-sm z-20 flex items-center justify-center animate-fade-in rounded-b-[32px] border-t border-skin-border/50",children:e.jsxs("div",{className:"flex flex-col items-center gap-6 p-8 rounded-[32px] bg-skin-card border border-accent/20 shadow-[0_0_50px_rgba(var(--accent-rgb),0.2)] aspect-square justify-center relative overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-accent/5 animate-pulse"}),e.jsx("div",{className:"w-16 h-16 rounded-full border-4 border-accent/20 border-t-accent animate-spin shadow-[0_0_40px_var(--accent-glow)] relative z-10"}),e.jsxs("span",{className:"text-[10px] tech-mono font-black text-accent animate-pulse tracking-[0.3em] uppercase relative z-10 text-center",children:["NEURAL",e.jsx("br",{}),"PROCESSING"]})]})}),e.jsx("div",{className:"bg-skin-surface rounded-[24px] border border-skin-border p-1 shadow-inner relative overflow-hidden",children:c})]})})]})),Ne=t=>{const[s,h]=f.useState(()=>y.getAllProviderStatuses().find(g=>g.id===t)),a=f.useCallback(()=>{const g=y.getAllProviderStatuses().find(c=>c.id===t);h(g)},[t]);return f.useEffect(()=>{a();const g=setInterval(a,3e3);return()=>clearInterval(g)},[a]),{status:(s==null?void 0:s.status)||"OFFLINE",isHealthy:(s==null?void 0:s.status)==="HEALTHY",isCooldown:(s==null?void 0:s.status)==="COOLDOWN",keyCount:(s==null?void 0:s.keyCount)||0,cooldownRemaining:(s==null?void 0:s.cooldownRemaining)||0,providerId:t}},re=(t,s)=>{switch(t.toUpperCase()){case"GEMINI":return e.jsx(de,{size:18,className:s||"text-blue-500"});case"OPENAI":return e.jsx(se,{size:18,className:s||"text-green-500"});case"GROQ":return e.jsx(ce,{size:18,className:s||"text-orange-500"});case"HYDRA":return e.jsx(te,{size:18,className:s||"text-pink-500"});default:return e.jsx(oe,{size:18,className:s||"text-neutral-500"})}},Ze=({speed:t})=>{const s=t==="INSTANT"?"bg-yellow-400":t==="FAST"?"bg-emerald-400":"bg-blue-400";return e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx(ye,{size:10,className:"text-neutral-400"}),e.jsxs("div",{className:"flex gap-0.5",children:[e.jsx("div",{className:`w-1 h-2 rounded-sm ${s}`}),e.jsx("div",{className:`w-1 h-2 rounded-sm ${t!=="SLOW"?s:"bg-neutral-600"}`}),e.jsx("div",{className:`w-1 h-2 rounded-sm ${t==="INSTANT"?s:"bg-neutral-600"}`})]})]})},ve=({label:t,selectedProviderId:s,selectedModelId:h,providers:a=[],onSelect:g,disabled:c})=>{const[l,x]=f.useState(!1),N=f.useRef(null),o=[{id:"HYDRA",name:"Hydra Image Engine",models:[{id:"hydra-smart-route",name:"Hydra Auto",description:"Smart routing. Best for generic requests.",tags:["SMART","AUTO"],specs:{speed:"FAST",quality:"ULTRA"}},{id:"flux",name:"Flux Standard",description:"Balanced detail and prompt adherence.",tags:["FREE","TEXT"],specs:{speed:"FAST",quality:"HD"}},{id:"flux-realism",name:"Flux Realism",description:"Photorealistic output.",tags:["FREE","REAL"],specs:{speed:"FAST",quality:"ULTRA"}},{id:"flux-anime",name:"Flux Anime",description:"Anime/Manga style.",tags:["FREE","2D"],specs:{speed:"FAST",quality:"HD"}},{id:"flux-3d",name:"Flux 3D",description:"3D Render style.",tags:["FREE","3D"],specs:{speed:"FAST",quality:"HD"}},{id:"midjourney",name:"Midjourney Style",description:"Artistic composition.",tags:["FREE","ART"],specs:{speed:"SLOW",quality:"ULTRA"}},{id:"turbo",name:"SDXL Turbo",description:"Fastest generation.",tags:["FREE","SPEED"],specs:{speed:"INSTANT",quality:"STD"}}]},{id:"GEMINI",name:"Google Gemini",models:[{id:"gemini-2.5-flash-image",name:"Imagen 3 Fast",description:"Native Google generation.",tags:["FREE","FAST"],specs:{speed:"INSTANT",quality:"STD"}},{id:"gemini-3-pro-image-preview",name:"Imagen 3 Pro",description:"High coherence (Paid).",tags:["PRO","ULTRA"],specs:{speed:"FAST",quality:"ULTRA"}}]}],b=a.length>0?a:o,n=b.find(p=>p.id===s)||b[0],u=(n==null?void 0:n.models.find(p=>p.id===h))||(n==null?void 0:n.models[0]);return f.useEffect(()=>{const p=m=>{N.current&&!N.current.contains(m.target)&&x(!1)};return document.addEventListener("mousedown",p),()=>document.removeEventListener("mousedown",p)},[]),e.jsxs("div",{className:"space-y-2 relative",ref:N,children:[e.jsxs("label",{className:"text-[9px] tech-mono font-black uppercase tracking-[0.3em] text-skin-muted pl-1 flex items-center gap-2",children:[e.jsx(te,{size:10})," ",t]}),e.jsxs("button",{onClick:p=>{p.stopPropagation(),!c&&x(!l)},className:`w-full bg-skin-card hover:bg-skin-surface border transition-all p-3 rounded-2xl flex items-center justify-between group ${l?"border-accent/50 shadow-[0_0_20px_rgba(var(--accent-rgb),0.1)]":"border-skin-border hover:border-skin-highlight"} ${c?"opacity-50 cursor-not-allowed":""}`,children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-skin-surface flex items-center justify-center border border-skin-border group-hover:border-skin-highlight transition-colors",children:re(s)}),e.jsxs("div",{className:"text-left",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-[10px] font-bold text-skin-muted uppercase tracking-wider",children:n==null?void 0:n.name}),e.jsx("div",{className:"w-1 h-1 rounded-full bg-neutral-500"}),(u==null?void 0:u.specs)&&e.jsx(Ze,{speed:u.specs.speed})]}),e.jsx("div",{className:"text-sm font-black text-skin-text uppercase tracking-tight truncate max-w-[180px] md:max-w-xs",children:u==null?void 0:u.name})]})]}),e.jsx("div",{className:`w-8 h-8 rounded-full bg-skin-surface flex items-center justify-center transition-transform duration-300 ${l?"rotate-180 bg-accent/10 text-accent":"text-skin-muted"}`,children:e.jsx(le,{size:16})})]}),l&&e.jsx("div",{className:"absolute top-full left-0 right-0 mt-2 bg-skin-card/95 backdrop-blur-xl border border-skin-border rounded-[24px] shadow-[0_20px_50px_rgba(0,0,0,0.5)] p-2 z-[100] animate-slide-down origin-top overflow-hidden ring-1 ring-white/10",children:e.jsx("div",{className:"max-h-[300px] overflow-y-auto custom-scroll p-1 space-y-4",children:b.map(p=>e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"px-3 py-1 flex items-center gap-2 text-[9px] font-black text-skin-muted uppercase tracking-widest bg-skin-surface rounded-lg w-fit border border-skin-border",children:[re(p.id,"w-3 h-3")," ",p.name]}),e.jsx("div",{className:"grid grid-cols-1 gap-1",children:p.models.map(m=>{const d=s===p.id&&h===m.id;return e.jsxs("button",{onClick:A=>{A.stopPropagation(),g(p.id,m.id),x(!1)},className:`flex items-start gap-3 p-3 rounded-xl border transition-all text-left group ${d?"bg-accent/10 border-accent/30 shadow-[inset_0_0_20px_rgba(var(--accent-rgb),0.05)]":"bg-transparent border-transparent hover:bg-skin-surface hover:border-skin-border"}`,children:[e.jsx("div",{className:`mt-0.5 w-4 h-4 rounded-full border flex items-center justify-center transition-colors ${d?"border-accent bg-accent text-black":"border-neutral-500 bg-transparent group-hover:border-skin-text"}`,children:d&&e.jsx(we,{size:10,strokeWidth:4})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center justify-between mb-0.5",children:[e.jsx("span",{className:`text-[11px] font-bold uppercase tracking-tight ${d?"text-skin-text":"text-skin-muted group-hover:text-skin-text"}`,children:m.name}),m.tags&&e.jsx("div",{className:"flex gap-1",children:m.tags.map(A=>e.jsx("span",{className:"text-[7px] font-bold px-1.5 py-0.5 rounded bg-skin-surface text-skin-muted border border-skin-border",children:A},A))})]}),m.description&&e.jsx("p",{className:"text-[9px] text-skin-muted line-clamp-1 group-hover:text-skin-text transition-colors",children:m.description})]})]},m.id)})})]},p.id))})})]})},ie=[{id:"NONE",label:"RAW",prompt:"",color:"bg-zinc-500"},{id:"CYBERPUNK",label:"CYBERPUNK",prompt:", cyberpunk style, neon lights, high tech, futuristic city, detailed, 8k resolution, cinematic lighting",color:"bg-cyan-500"},{id:"PHOTOREAL",label:"PHOTOREAL",prompt:", photorealistic, 8k, highly detailed, shot on 35mm, f/1.8, bokeh, professional photography",color:"bg-emerald-500"},{id:"ANIME",label:"ANIME",prompt:", anime style, studio ghibli style, vibrant colors, cel shaded, highly detailed",color:"bg-pink-500"},{id:"OIL",label:"OIL PAINT",prompt:", oil painting style, textured brush strokes, artistic, masterpiece",color:"bg-amber-500"},{id:"3D",label:"3D RENDER",prompt:", 3d render, octane render, unreal engine 5, ray tracing, highly detailed",color:"bg-blue-500"}],ne=["A futuristic city built inside a giant glass bubble on Mars, cinematic lighting, 8k","A portrait of a cyborg woman with neon glowing eyes, cyberpunk style, detailed","An isometric view of a magical library with floating books, fantasy art","A cute robot gardener watering plants in a greenhouse, pixar style, 3d render","A surreal landscape with melting clocks and floating islands, salvador dali style"],Qe=({mediaUrl:t,type:s,isLoading:h,loadingStage:a,aspectRatio:g,onClear:c,error:l,metadata:x})=>{const[N,o]=f.useState(!1),[b,n]=f.useState(null);f.useEffect(()=>{!t&&!h&&(o(!1),n(null)),l&&n(l),t&&o(!1)},[t,h,l]);const u=()=>{switch(g){case"16:9":return"aspect-video";case"9:16":return"aspect-[9/16]";case"4:3":return"aspect-[4/3]";default:return"aspect-square"}};return!h&&!t&&!l?null:e.jsxs("div",{className:"w-full max-w-2xl mx-auto mt-8 animate-slide-up",children:[e.jsxs("div",{className:`relative w-full rounded-[24px] overflow-hidden border border-skin-border bg-skin-card shadow-2xl transition-all duration-500 ${u()}`,children:[(h||!N&&!b)&&e.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center z-20 bg-skin-card overflow-hidden",children:[e.jsx("div",{className:"absolute w-[200%] h-[200%] bg-gradient-to-tr from-accent/10 to-purple-500/10 animate-[spin_8s_linear_infinite] blur-[100px] opacity-30"}),e.jsx("div",{className:"absolute inset-0 bg-[linear-gradient(rgba(128,128,128,0.05)_1px,transparent_1px),linear-gradient(90deg,rgba(128,128,128,0.05)_1px,transparent_1px)] bg-[size:40px_40px]"}),e.jsxs("div",{className:"relative z-10 flex flex-col items-center gap-6",children:[e.jsxs("div",{className:"relative w-20 h-20",children:[e.jsx("div",{className:"absolute inset-0 border-4 border-accent/20 rounded-full"}),e.jsx("div",{className:"absolute inset-0 border-4 border-accent border-t-transparent rounded-full animate-spin"}),e.jsx("div",{className:"absolute inset-4 bg-accent/10 rounded-full animate-pulse blur-md"}),e.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:e.jsx(de,{size:20,className:"text-skin-text animate-pulse"})})]}),e.jsxs("div",{className:"text-center space-y-1",children:[e.jsx("h4",{className:"text-xs font-black text-skin-text uppercase tracking-[0.2em] animate-pulse",children:a}),e.jsx("p",{className:"text-[9px] text-skin-muted font-mono",children:"NEURAL_SYNTHESIS_ENGINE_ACTIVE"})]})]})]}),b&&e.jsxs("div",{className:"absolute inset-0 z-30 flex flex-col items-center justify-center bg-red-950/20 backdrop-blur-md p-8 text-center animate-fade-in",children:[e.jsx("div",{className:"w-16 h-16 bg-red-500/10 rounded-full flex items-center justify-center mb-4 border border-red-500/20 shadow-[0_0_30px_rgba(239,68,68,0.2)]",children:e.jsx(Re,{size:32,className:"text-red-500"})}),e.jsx("h3",{className:"text-sm font-black text-red-500 uppercase tracking-widest mb-2",children:"GENERATION_FAILURE"}),e.jsx("p",{className:"text-[10px] text-red-400 font-mono max-w-md break-words leading-relaxed",children:b}),e.jsx("button",{onClick:c,className:"mt-6 px-6 py-3 bg-red-500/20 hover:bg-red-500 hover:text-white text-red-400 border border-red-500/20 rounded-xl text-[10px] font-black uppercase tracking-widest transition-all",children:"DISMISS"})]}),t&&!b&&e.jsxs("div",{className:`relative w-full h-full group ${N?"opacity-100":"opacity-0"} transition-opacity duration-1000`,children:[s==="IMAGE"?e.jsx("img",{src:t,alt:"Generated Output",className:"w-full h-full object-cover",onLoad:()=>o(!0),onError:()=>n("Image data corrupted or unreadable.")}):e.jsx("video",{src:t,autoPlay:!0,loop:!0,controls:!0,className:"w-full h-full object-cover",onLoadedData:()=>o(!0),onError:()=>n("Video stream unavailable.")}),e.jsxs("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-transparent to-black/30 opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex flex-col justify-between p-6",children:[e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("span",{className:"px-3 py-1 bg-black/60 backdrop-blur rounded-lg text-[9px] font-black uppercase tracking-widest text-white border border-white/10 flex items-center gap-2",children:[s==="IMAGE"?e.jsx(pe,{size:10}):e.jsx(ee,{size:10}),s==="IMAGE"?"HQ_RENDER":"VIDEO_SEQ"]}),e.jsx("button",{onClick:c,className:"p-2 bg-black/60 backdrop-blur rounded-full text-white hover:bg-red-500 transition-colors border border-white/10 hover:border-red-500",children:e.jsx(me,{size:16})})]}),e.jsx("div",{className:"flex justify-end gap-3",children:e.jsxs("button",{onClick:()=>window.open(t),className:"p-3 bg-white text-black rounded-xl hover:bg-accent transition-all shadow-lg active:scale-95 flex items-center gap-2 font-bold text-[10px] uppercase tracking-wider",title:"Download",children:[e.jsx(Se,{size:16})," SAVE_ASSET"]})})]})]})]}),x&&!h&&!b&&N&&e.jsxs("div",{className:"mt-4 flex items-center justify-between px-4 py-3 bg-skin-card border border-skin-border rounded-xl opacity-0 animate-slide-up shadow-sm",style:{animationDelay:"0.2s",opacity:1},children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(se,{size:14,className:"text-accent"}),e.jsx("span",{className:"text-[9px] font-black uppercase tracking-wider text-skin-text",children:x.provider})]}),e.jsx("div",{className:"w-[1px] h-3 bg-skin-border"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(oe,{size:14,className:"text-purple-500"}),e.jsx("span",{className:"text-[9px] font-mono text-skin-muted uppercase",children:x.model})]})]}),e.jsx("span",{className:"text-[8px] font-black uppercase tracking-widest text-skin-muted bg-skin-surface px-2 py-1 rounded",children:g})]})]})},Je=({isOpen:t,onToggle:s,icon:h})=>{const{prompt:a,setPrompt:g,aspectRatio:c,setAspectRatio:l,stylePreset:x,setStylePreset:N,resultUrl:o,setResultUrl:b,resultType:n,setResultType:u,resultMeta:p,setResultMeta:m,isProcessing:d,setIsProcessing:A,statusMsg:z,setStatusMsg:F,errorMsg:U,setErrorMsg:S,selectedProvider:k,setSelectedProvider:q,selectedModel:R,setSelectedModel:$,history:_,addToHistory:O}=he(),{isHealthy:H,status:V}=Ne(k==="HYDRA"?"GEMINI":k);f.useEffect(()=>{if(!d)return;const i=n==="VIDEO"?["INITIALIZING TEMPORAL ENGINE...","GENERATING FRAMES...","STABILIZING SEQUENCE...","ENCODING STREAM..."]:["PARSING SEMANTICS...","CONNECTING TO NEURAL NET...","DIFFUSING PIXELS...","UPSCALING RESOLUTION...","FINALIZING RENDER..."];let j=0;F(i[0]);const L=setInterval(()=>{j=(j+1)%i.length,F(i[j])},2500);return()=>clearInterval(L)},[d,n,F]);const B=async i=>{var X;if(!a.trim()||d)return;A(!0),S(null),b(null),u(i),m(null),M.logAction(i==="IMAGE"?P.TOOLS_GEN_BTN_IMAGE:P.TOOLS_GEN_BTN_VIDEO,C.TOOL_GENERATE_IMAGE,R);const j=((X=ie.find(E=>E.id===x))==null?void 0:X.prompt)||"",L=a+j;try{let E=null,w={provider:k,model:R};if(i==="VIDEO"){if(k!=="GEMINI")throw new Error("Video generation is only supported on Gemini Veo models.");E=await $e(L,{aspectRatio:c,resolution:"720p"})}else if(k==="HYDRA"){const r=await He.generateHydraImage(L,R);E=r.url,w={provider:r.provider,model:r.model}}else{if(!H)throw new Error(`Provider ${k} is currently ${V}.`);if(R==="gemini-3-pro-image-preview"){const r=window.aistudio;if(r&&!await r.hasSelectedApiKey())try{await r.openSelectKey()}catch{throw new Error("API Key Selection Cancelled")}}E=await Xe(k,R,L,{aspectRatio:c})}if(!E)throw new Error("Engine returned empty data.");b(E),m(w),O(E,i,a,w)}catch(E){console.error("Generation Error:",E);let w=E.message||"Unknown synthesis error.";w.includes("429")||w.includes("RESOURCE_EXHAUSTED")?w=`QUOTA EXCEEDED: The ${R} model is busy. Try switching to Hydra (Free).`:w.includes("HF_API")&&(w="Hugging Face Model is loading. Please try again in 30 seconds."),S(w),u(null)}finally{A(!1)}},K=()=>g(ne[Math.floor(Math.random()*ne.length)]),Q=async()=>{if(!(!a||d)){F("ENHANCING PROMPT..."),A(!0);try{const i=`Rewrite this image prompt to be highly detailed, descriptive, and optimized for Stable Diffusion/Flux. Keep it under 50 words. Input: "${a}"`,j=await Ue.execute(i,"gemini-3-flash-preview");j.text&&g(j.text.trim())}catch{}A(!1)}},G=[{id:"HYDRA",name:"Hydra Image Engine",models:[{id:"hydra-smart-route",name:"Hydra Smart Router",description:"Auto-selects best model based on prompt.",tags:["SMART","AUTO"],specs:{speed:"FAST",quality:"ULTRA"}},{id:Y.flux,name:"Flux (Pollinations)",description:"Excellent text rendering and general detail.",tags:["FREE","TEXT"],specs:{speed:"FAST",quality:"HD"}},{id:Y.fluxRealism,name:"Flux Realism",description:"Photorealistic output.",tags:["FREE","REAL"],specs:{speed:"FAST",quality:"ULTRA"}},{id:Y.fluxAnime,name:"Flux Anime",description:"Anime/Manga style.",tags:["FREE","2D"],specs:{speed:"FAST",quality:"HD"}},{id:Y.flux3d,name:"Flux 3D",description:"3D Render style.",tags:["FREE","3D"],specs:{speed:"FAST",quality:"HD"}},{id:Y.turbo,name:"Turbo (Pollinations)",description:"Fastest generation, lower detail.",tags:["FREE","SPEED"],specs:{speed:"INSTANT",quality:"STD"}}]},{id:"GEMINI",name:"Google Gemini",models:[{id:"gemini-2.5-flash-image",name:"Imagen 3 Fast",description:"Optimized for speed (Flash Image).",tags:["FREE","FAST"],specs:{speed:"INSTANT",quality:"STD"}},{id:"gemini-3-pro-image-preview",name:"Imagen 3 Pro",description:"Highest fidelity (Requires Paid Key).",tags:["PRO","ULTRA"],specs:{speed:"FAST",quality:"ULTRA"}}]},{id:"OPENAI",name:"OpenAI",models:[{id:"dall-e-3",name:"DALL-E 3",description:"State-of-the-art semantic instruction following.",tags:["HD","VIVID"],specs:{speed:"SLOW",quality:"ULTRA"}}]}],W=()=>{M.logAction(P.TOOLS_BTN_TAB_GEN,C.NAVIGATE_TO_FEATURE,t?"CLOSE":"OPEN"),s()};return e.jsx(fe,{title:"IMAGE GENERATOR",icon:h,subtitle:"HYDRA & IMAGEN ENGINE",isOpen:t,onToggle:W,isLoading:d,loadingText:z,children:e.jsxs("div",{className:"space-y-6 animate-fade-in p-4 md:p-6 relative",children:[e.jsx("button",{onClick:i=>{i.stopPropagation(),W()},className:"absolute top-2 right-2 md:top-4 md:right-4 p-2 rounded-full hover:bg-skin-surface text-skin-muted hover:text-skin-text transition-colors z-20",title:"Minimize Studio",children:e.jsx(J,{size:20})}),e.jsxs("div",{className:"bg-skin-card rounded-[24px] border border-skin-border p-5 flex flex-col xl:flex-row gap-6 shadow-sm relative z-10",children:[e.jsx("div",{className:"flex-1 space-y-3",children:e.jsx(ve,{label:"Rendering Engine",selectedProviderId:k,selectedModelId:R,providers:G,onSelect:(i,j)=>{q(i),$(j)},disabled:d})}),e.jsxs("div",{className:"space-y-3 xl:w-72",children:[e.jsxs("label",{className:"text-[9px] tech-mono font-black uppercase tracking-[0.3em] text-skin-muted pl-1 flex items-center gap-2",children:[e.jsx(xe,{size:10})," Frame Ratio"]}),e.jsx("div",{className:"flex bg-skin-surface p-1 rounded-xl border border-skin-border h-[64px] items-center",children:["1:1","16:9","9:16"].map(i=>e.jsxs("button",{onClick:()=>l(i),disabled:d,className:`flex-1 h-full rounded-lg text-[10px] font-black transition-all flex flex-col items-center justify-center gap-1 ${c===i?"bg-skin-card text-accent shadow-sm border border-skin-border":"text-skin-muted hover:text-skin-text"}`,children:[e.jsx("div",{className:`border-2 rounded-[2px] ${c===i?"border-current":"border-skin-muted"} ${i==="1:1"?"w-3 h-3":i==="16:9"?"w-5 h-2.5":"w-2.5 h-5"}`}),i]},i))})]})]}),e.jsxs("div",{className:"relative group",children:[e.jsx("div",{className:"absolute top-4 left-5 z-10 flex items-center gap-2",children:e.jsxs("span",{className:"text-[8px] font-black bg-skin-card/80 backdrop-blur-md px-2 py-1 rounded text-skin-text tracking-widest uppercase flex items-center gap-1.5 border border-skin-border shadow-sm",children:[e.jsx(ce,{size:8,className:"text-accent"})," PROMPT_TERMINAL"]})}),e.jsxs("div",{className:"absolute top-4 right-4 z-10 flex gap-1.5",children:[e.jsx("button",{onClick:K,disabled:d,className:"p-2 bg-skin-surface hover:bg-skin-surface-hover text-skin-muted hover:text-skin-text rounded-lg border border-skin-border transition-all shadow-sm active:scale-95 disabled:opacity-0",children:e.jsx(Ae,{size:14})}),e.jsxs("button",{onClick:Q,disabled:d||!a,className:"px-3 py-1.5 bg-accent/10 hover:bg-accent text-accent hover:text-black rounded-lg border border-accent/20 transition-all shadow-sm group/wand disabled:opacity-0 flex items-center gap-1.5 text-[8px] font-black uppercase tracking-wider active:scale-95",children:[e.jsx(ue,{size:10,className:"group-hover/wand:rotate-12 transition-transform"})," ENHANCE"]})]}),e.jsx("textarea",{value:a,onChange:i=>g(i.target.value),disabled:d,placeholder:"Describe your vision in high fidelity...",className:"w-full bg-skin-card p-6 pt-16 rounded-[24px] border border-skin-border focus:border-accent/50 focus:shadow-[0_0_30px_-10px_var(--accent-glow)] outline-none text-skin-text font-medium text-base h-40 resize-none transition-all placeholder:text-skin-muted leading-relaxed font-sans"})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("label",{className:"text-[9px] tech-mono font-black uppercase tracking-[0.3em] text-skin-muted pl-1 flex items-center gap-2",children:[e.jsx(Ie,{size:10})," Aesthetic Matrix"]}),e.jsx("div",{className:"flex flex-wrap gap-2",children:ie.map(i=>e.jsxs("button",{onClick:()=>N(i.id),disabled:d,className:`
                                    relative px-4 py-2 rounded-lg text-[9px] font-black uppercase tracking-widest border transition-all overflow-hidden group
                                    ${x===i.id?"border-accent text-skin-text shadow-sm bg-skin-card":"bg-skin-surface border-skin-border text-skin-muted hover:text-skin-text hover:border-skin-highlight"}
                                `,children:[x===i.id&&e.jsx("div",{className:`absolute inset-0 opacity-10 ${i.color}`}),e.jsx("span",{className:"relative z-10",children:i.label})]},i.id))})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 pt-2 border-t border-skin-border/50",children:[e.jsxs("button",{onClick:()=>B("IMAGE"),disabled:d||!a.trim(),className:"flex-1 py-5 bg-skin-text text-skin-card rounded-[20px] font-black uppercase text-[10px] tracking-[0.3em] flex items-center justify-center gap-3 shadow-lg hover:scale-[1.01] active:scale-95 disabled:opacity-40 disabled:scale-100 transition-all duration-300 group relative overflow-hidden hover:bg-accent hover:text-black",children:[e.jsx(pe,{size:18,className:"group-hover:scale-110 transition-transform"}),d&&n==="IMAGE"?"RENDERING...":"GENERATE_VISUAL"]}),k==="GEMINI"&&e.jsxs("button",{onClick:()=>B("VIDEO"),disabled:d||!a.trim(),className:"flex-1 py-5 bg-skin-card text-skin-text rounded-[20px] font-black uppercase text-[10px] tracking-[0.3em] flex items-center justify-center gap-3 border border-skin-border hover:border-accent/50 disabled:opacity-40 transition-all duration-300 shadow-sm hover:shadow-md group",children:[e.jsx(ee,{size:18,className:"group-hover:scale-110 transition-transform"}),d&&n==="VIDEO"?"SYNTHESIZING...":"GENERATE_VIDEO"]})]}),(o||d||U)&&e.jsx(Qe,{mediaUrl:o,type:n,isLoading:d,loadingStage:z,aspectRatio:c,onClear:()=>{b(null),S(null),u(null)},error:U,metadata:p}),_.length>0&&e.jsxs("div",{className:"mt-6 border-t border-skin-border pt-6",children:[e.jsxs("h4",{className:"text-[9px] tech-mono font-black uppercase tracking-[0.3em] text-skin-muted mb-4 flex items-center gap-2",children:[e.jsx(Te,{size:10})," RECENT_SYNTHESIS"]}),e.jsx("div",{className:"flex gap-3 overflow-x-auto pb-2 no-scrollbar",children:_.map(i=>e.jsxs("button",{onClick:()=>{b(i.url),u(i.type),g(i.prompt),S(null),m(i.metadata||null)},className:"relative w-24 h-16 rounded-lg overflow-hidden border border-skin-border hover:border-accent/50 transition-all group shrink-0 active:scale-95 bg-skin-surface",children:[i.type==="IMAGE"?e.jsx("img",{src:i.url,className:"w-full h-full object-cover opacity-70 group-hover:opacity-100 transition-opacity",alt:"History"}):e.jsx("div",{className:"w-full h-full bg-skin-surface flex items-center justify-center opacity-70 group-hover:opacity-100",children:e.jsx(ee,{size:14,className:"text-skin-text"})}),i.metadata&&e.jsx("div",{className:"absolute top-1 right-1 bg-skin-card/90 px-1 py-0.5 rounded text-[5px] font-black uppercase text-accent border border-skin-border backdrop-blur-sm",children:i.metadata.provider.split(" ")[0]})]},i.id))})]})]})})},et=[{id:"GEMINI",name:"Google Gemini",models:[{id:"gemini-3-flash-preview",name:"Gemini 3 Flash",description:"Fastest multimodal analysis. Best for real-time.",tags:["FREE","FAST"],specs:{speed:"INSTANT",quality:"STD"}},{id:"gemini-3-pro-preview",name:"Gemini 3 Pro",description:"Deep reasoning on complex visual data.",tags:["PRO","DEEP"],specs:{speed:"FAST",quality:"ULTRA"}}]},{id:"GROQ",name:"Groq Llama",models:[{id:"llama-3.2-90b-vision-preview",name:"Llama 3.2 90B",description:"Open source vision model on LPU.",tags:["OPEN","FAST"],specs:{speed:"INSTANT",quality:"HD"}}]},{id:"OPENAI",name:"OpenAI",models:[{id:"gpt-4o",name:"GPT-4o Omni",description:"Industry standard for visual understanding.",tags:["PRO","SMART"],specs:{speed:"FAST",quality:"ULTRA"}}]}],tt=({isOpen:t,onToggle:s,icon:h})=>{const{visionPrompt:a,setVisionPrompt:g,visionResult:c,setVisionResult:l,visionInputImage:x,setVisionInputImage:N,visionInputType:o,setVisionInputType:b,visionLoading:n,setVisionLoading:u,visionEditResult:p,setVisionEditResult:m,visionProvider:d,setVisionProvider:A,visionModel:z,setVisionModel:F}=he(),[U,S]=f.useState(null),[k,q]=f.useState(!1),[R,$]=f.useState(!1),_=f.useRef(null),O=f.useRef(null),H=f.useRef(null),{isHealthy:V,status:B}=Ne(d);f.useEffect(()=>{if(!n){S(null);return}const r=n==="ANALYZE"?["DECODING PIXELS...","MAPPING VECTORS...","SEMANTIC MATCHING...","SYNTHESIZING OUTPUT..."]:["UPLOADING ASSET...","APPLYING TRANSFORM...","RENDERING PIXELS...","FINALIZING..."];let v=0;S(r[0]);const I=setInterval(()=>{v=(v+1)%r.length,S(r[v])},1500);return()=>clearInterval(I)},[n]),f.useEffect(()=>{k&&_.current&&O.current&&(_.current.srcObject=O.current)},[k]),f.useEffect(()=>()=>G(),[]);const K=()=>{M.logAction(P.TOOLS_BTN_TAB_VIS,C.NAVIGATE_TO_FEATURE,t?"CLOSE":"OPEN"),k&&G(),s()},Q=async()=>{M.logAction(P.TOOLS_VIS_BTN_CAMERA,C.TOOL_CAMERA_CAPTURE,"INIT");try{const r=await navigator.mediaDevices.getUserMedia({video:{facingMode:"environment",width:{ideal:1920}}});O.current=r,q(!0),l(null),m(null)}catch{alert("Camera access denied or unavailable.")}},G=()=>{O.current&&(O.current.getTracks().forEach(r=>r.stop()),O.current=null),q(!1)},W=f.useCallback(()=>{if(!_.current)return;const r=_.current,v=1280;let I=r.videoWidth,T=r.videoHeight;I>T?I>v&&(T*=v/I,I=v):T>v&&(I*=v/T,T=v);const Z=document.createElement("canvas");Z.width=I,Z.height=T;const ae=Z.getContext("2d");if(ae){ae.drawImage(r,0,0,I,T);const ke=Z.toDataURL("image/jpeg",.85);N(ke.split(",")[1]),b("image/jpeg"),G(),M.logAction(P.TOOLS_VIS_BTN_CAMERA,C.TOOL_CAMERA_CAPTURE,"CAPTURED")}},[N,b]),i=async r=>{var v;if((v=r.target.files)!=null&&v[0]){const I=r.target.files[0];try{const T=await qe(I);N(T.base64),b(T.mimeType),l(null),m(null)}catch{alert("Failed to process image.")}}r.target.value=""},j=async()=>{if(!(!x||!o)){if(!V){l(`ERROR: ${d} OFFLINE`);return}u("ANALYZE"),l(null),m(null);try{M.logAction(P.TOOLS_VIS_BTN_UPLOAD,C.TOOL_ANALYZE_IMAGE,z);const r=await We(d,z,x,o,a||"Analyze this image in detail. Identify objects, text, and context.");l(r)}catch(r){l(`Analysis Failed: ${r.message}`)}finally{u(null)}}},L=async()=>{if(!x||!o||!a){alert("Prompt required for editing.");return}if(d!=="GEMINI"){alert("Editing currently only supported on Gemini models.");return}u("EDIT"),m(null),l(null);try{M.logAction(P.TOOLS_VIS_BTN_EDIT,C.TOOL_GENERATE_IMAGE,"EDIT_IMG");const r=await Ve(x,o,a);m(r)}catch(r){l(`Edit Failed: ${r.message}`)}finally{u(null)}},X=()=>{c&&Ye(c.replace(/[*#_`]/g,""))},E=()=>{c&&navigator.clipboard.writeText(c)},w=()=>{N(null),l(null),m(null),g(""),k&&G()};return e.jsxs(fe,{title:"NEURAL VISION",icon:h,subtitle:"MULTIMODAL ANALYSIS ENGINE",isOpen:t,onToggle:K,isLoading:!!n,loadingText:U||"",children:[e.jsxs("div",{className:"flex flex-col h-full bg-skin-card text-skin-text font-sans relative overflow-hidden",children:[e.jsxs("div",{className:"p-4 md:p-6 border-b border-skin-border bg-skin-surface/50 flex flex-col md:flex-row gap-4 justify-between items-start md:items-center relative z-20",children:[e.jsx("div",{className:"flex-1 w-full md:w-auto",children:e.jsx(ve,{label:"OPTICAL ENGINE",selectedProviderId:d,selectedModelId:z,providers:et,onSelect:(r,v)=>{A(r),F(v)},disabled:!!n})}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("div",{className:`px-3 py-1 rounded-lg border text-[9px] font-black uppercase tracking-widest flex items-center gap-2 ${V?"bg-emerald-500/10 border-emerald-500/20 text-emerald-500":"bg-red-500/10 border-red-500/20 text-red-500"}`,children:[e.jsx("div",{className:`w-1.5 h-1.5 rounded-full ${V?"bg-emerald-500":"bg-red-500"} animate-pulse`}),B]}),e.jsx("button",{onClick:r=>{r.stopPropagation(),K()},className:"p-2 hover:bg-skin-surface-hover rounded-full transition-colors text-skin-muted hover:text-skin-text",children:e.jsx(J,{size:18})})]})]}),e.jsxs("div",{className:"flex-1 flex flex-col lg:flex-row overflow-hidden relative",children:[e.jsx("div",{className:"lg:w-1/2 flex flex-col border-b lg:border-b-0 lg:border-r border-skin-border relative bg-skin-surface/30",children:e.jsx("div",{className:`flex-1 relative flex items-center justify-center overflow-hidden transition-all p-4 md:p-8 
                                ${R?"bg-accent/5 ring-2 ring-inset ring-accent/50":""}`,onDragOver:r=>{r.preventDefault(),$(!0)},onDragLeave:()=>$(!1),onDrop:r=>{r.preventDefault(),$(!1),r.dataTransfer.files[0]&&i({target:{files:r.dataTransfer.files}})},children:k?e.jsxs("div",{className:"relative w-full h-full max-h-[600px] bg-black rounded-[24px] overflow-hidden border border-skin-border shadow-2xl group",children:[e.jsx("video",{ref:_,autoPlay:!0,playsInline:!0,muted:!0,className:"w-full h-full object-cover"}),e.jsxs("div",{className:"absolute inset-0 pointer-events-none",children:[e.jsxs("div",{className:"absolute top-4 left-4 flex gap-2",children:[e.jsx("span",{className:"px-2 py-0.5 bg-red-500/20 text-red-500 text-[9px] font-black uppercase tracking-widest border border-red-500/30 animate-pulse",children:"REC"}),e.jsx("span",{className:"px-2 py-0.5 bg-black/50 text-white text-[9px] font-mono border border-white/10",children:"1080p_HQ"})]}),e.jsx("div",{className:"absolute inset-x-0 top-1/2 h-[1px] bg-white/20"}),e.jsx("div",{className:"absolute inset-y-0 left-1/2 w-[1px] bg-white/20"}),e.jsx("div",{className:"absolute inset-0 border-[40px] border-black/10"}),e.jsx("div",{className:"absolute top-0 left-0 w-full h-1 bg-accent/50 shadow-[0_0_15px_var(--accent-glow)] animate-scan"})]}),e.jsxs("div",{className:"absolute bottom-6 inset-x-0 flex justify-center items-center gap-6 z-20 pointer-events-auto",children:[e.jsx("button",{onClick:G,className:"p-3 bg-white/10 hover:bg-red-500/20 text-white hover:text-red-500 rounded-full backdrop-blur-md transition-all",children:e.jsx(J,{size:24})}),e.jsx("button",{onClick:W,className:"w-20 h-20 rounded-full border-4 border-white/30 flex items-center justify-center group-active:scale-95 transition-all",children:e.jsx("div",{className:"w-16 h-16 bg-white rounded-full shadow-[0_0_20px_white]"})})]})]}):x?e.jsxs("div",{className:"relative w-full h-full flex flex-col items-center justify-center animate-fade-in group",children:[e.jsxs("div",{className:"relative max-w-full max-h-full rounded-[24px] overflow-hidden border border-skin-border shadow-2xl",children:[e.jsx("img",{src:`data:${o};base64,${x}`,alt:"Analysis Target",className:"w-full h-full object-contain max-h-[60vh] lg:max-h-[70vh]"}),e.jsx("div",{className:"absolute top-2 right-2 opacity-0 group-hover:opacity-100 transition-opacity",children:e.jsx("button",{onClick:w,className:"p-2 bg-black/60 backdrop-blur text-white hover:text-red-500 rounded-lg border border-white/10 hover:border-red-500/50 transition-all",children:e.jsx(me,{size:16})})})]}),e.jsx("div",{className:"absolute bottom-4 left-4 bg-black/60 backdrop-blur px-3 py-1 rounded-lg border border-white/10 text-[9px] font-mono text-white/70",children:"SOURCE_LOCKED"})]}):e.jsxs("div",{className:"text-center space-y-6 max-w-sm",children:[e.jsx("div",{onClick:()=>{var r;return(r=H.current)==null?void 0:r.click()},className:"w-24 h-24 mx-auto rounded-[32px] bg-skin-card border border-skin-border flex items-center justify-center text-skin-muted hover:text-accent hover:border-accent/30 hover:bg-accent/5 cursor-pointer transition-all duration-500 group shadow-inner",children:e.jsx(_e,{size:32,className:"group-hover:scale-110 transition-transform"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-black text-skin-text uppercase tracking-tight mb-2",children:"INPUT VISUAL DATA"}),e.jsxs("p",{className:"text-xs text-skin-muted font-medium leading-relaxed",children:["Upload image for deep analysis or modification.",e.jsx("br",{})," Supports JPG, PNG, WEBP."]})]}),e.jsxs("div",{className:"flex gap-3 justify-center",children:[e.jsx("button",{onClick:()=>{var r;return(r=H.current)==null?void 0:r.click()},className:"px-5 py-2.5 bg-skin-text text-skin-card hover:bg-accent rounded-xl text-[10px] font-black uppercase tracking-widest transition-all hover:scale-105 active:scale-95 shadow-lg",children:"UPLOAD FILE"}),e.jsxs("button",{onClick:Q,className:"px-5 py-2.5 bg-skin-surface text-skin-text hover:bg-skin-surface-hover rounded-xl text-[10px] font-black uppercase tracking-widest transition-all flex items-center gap-2 border border-skin-border",children:[e.jsx(Oe,{size:14})," CAMERA"]})]}),e.jsx("input",{type:"file",ref:H,onChange:i,className:"hidden",accept:"image/*"})]})})}),e.jsxs("div",{className:"lg:w-1/2 flex flex-col bg-skin-card",children:[e.jsxs("div",{className:"p-6 border-b border-skin-border space-y-4 shrink-0",children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute top-0 left-0 px-2 py-1 bg-skin-surface rounded-br-lg border-r border-b border-skin-border text-[8px] font-black text-skin-muted uppercase tracking-widest",children:"PROMPT_INSTRUCTION"}),e.jsx("textarea",{value:a,onChange:r=>g(r.target.value),placeholder:"Describe what you want to know or change...",className:"w-full h-24 bg-skin-surface/50 border border-skin-border rounded-2xl p-4 pt-8 text-sm text-skin-text focus:border-accent/50 focus:outline-none resize-none placeholder:text-skin-muted transition-all font-medium"})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsxs("button",{onClick:j,disabled:!x||!!n,className:`
                                        flex-1 py-3.5 rounded-xl font-black text-[10px] uppercase tracking-[0.2em] flex items-center justify-center gap-2 transition-all
                                        ${!x||n?"bg-skin-surface text-skin-muted cursor-not-allowed border border-skin-border":"bg-skin-text text-skin-card hover:bg-accent shadow-sm hover:scale-[1.01] active:scale-95"}
                                    `,children:[e.jsx(Pe,{size:16})," ANALYZE"]}),e.jsxs("button",{onClick:L,disabled:!x||!a||!!n||d!=="GEMINI",className:`
                                        flex-1 py-3.5 rounded-xl font-black text-[10px] uppercase tracking-[0.2em] flex items-center justify-center gap-2 transition-all border
                                        ${!x||!a||n||d!=="GEMINI"?"bg-transparent border-skin-border text-skin-muted cursor-not-allowed":"bg-skin-surface border-skin-border text-skin-text hover:bg-skin-surface-hover hover:border-accent/50 hover:text-accent"}
                                    `,title:d!=="GEMINI"?"Switch to Gemini for Editing":"Modify Image",children:[e.jsx(ue,{size:16})," EDIT"]})]})]}),e.jsxs("div",{className:"flex-1 overflow-y-auto custom-scroll p-6 relative",children:[!c&&!p&&!n&&e.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-skin-muted opacity-40 gap-3",children:[e.jsx(xe,{size:32,strokeWidth:1}),e.jsx("p",{className:"text-[10px] font-black uppercase tracking-[0.2em]",children:"WAITING_FOR_DATA_STREAM"})]}),c&&e.jsxs("div",{className:"space-y-4 animate-slide-up",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("h4",{className:"text-[10px] font-black text-accent uppercase tracking-widest flex items-center gap-2",children:[e.jsx(ge,{size:12})," ANALYSIS_REPORT"]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:X,className:"p-1.5 hover:bg-skin-surface rounded-lg text-skin-muted hover:text-skin-text transition-colors",children:e.jsx(Ge,{size:14})}),e.jsx("button",{onClick:E,className:"p-1.5 hover:bg-skin-surface rounded-lg text-skin-muted hover:text-skin-text transition-colors",children:e.jsx(Le,{size:14})})]})]}),e.jsx("div",{className:"prose dark:prose-invert prose-sm max-w-none text-skin-text font-medium text-xs leading-loose p-4 bg-skin-surface rounded-2xl border border-skin-border",children:e.jsx(De,{children:c})})]}),p&&e.jsxs("div",{className:"space-y-4 animate-slide-up",children:[e.jsxs("h4",{className:"text-[10px] font-black text-pink-500 uppercase tracking-widest flex items-center gap-2",children:[e.jsx(te,{size:12})," GENERATED_ASSET"]}),e.jsx("div",{className:"rounded-2xl overflow-hidden border border-skin-border shadow-xl bg-black",children:e.jsx("img",{src:p,alt:"Edit Result",className:"w-full h-auto"})}),e.jsx("a",{href:p,download:"edited_image.png",className:"block w-full py-3 text-center bg-skin-surface hover:bg-skin-surface-hover rounded-xl text-[10px] font-black uppercase tracking-widest text-skin-text transition-all",children:"DOWNLOAD ASSET"})]}),n&&e.jsxs("div",{className:"absolute inset-0 bg-skin-card/90 backdrop-blur-sm z-10 flex flex-col items-center justify-center gap-6 animate-fade-in",children:[e.jsx("div",{className:"w-16 h-16 border-4 border-accent/20 border-t-accent rounded-full animate-spin"}),e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-[10px] font-black text-accent uppercase tracking-[0.2em] animate-pulse",children:U}),e.jsx("p",{className:"text-[9px] text-skin-muted font-mono mt-1",children:"PROCESSING_NEURAL_LAYERS"})]})]})]})]})]})]}),e.jsx("style",{children:`
                @keyframes scan {
                    0% { top: 0%; opacity: 0; }
                    10% { opacity: 1; }
                    90% { opacity: 1; }
                    100% { top: 100%; opacity: 0; }
                }
                .animate-scan { animation: scan 2s linear infinite; }
            `})]})},ot=f.memo(()=>{const[t,s]=f.useState("GENERATIVE"),h=f.useCallback(a=>{s(g=>g===a?null:a)},[]);return e.jsxs("div",{className:"h-full w-full overflow-y-auto custom-scroll flex flex-col px-4 pb-32 pt-[calc(env(safe-area-inset-top)+1.5rem)] md:px-8 md:pt-12 md:pb-40 lg:px-12 animate-fade-in bg-noise relative z-10 overscroll-none",children:[e.jsx("div",{className:"fixed top-[-10%] right-[-5%] w-[500px] h-[500px] bg-purple-600/10 blur-[120px] rounded-full pointer-events-none animate-pulse-slow will-change-transform transform-gpu translate-z-0"}),e.jsx("div",{className:"fixed bottom-[-10%] left-[-5%] w-[600px] h-[600px] bg-cyan-600/5 blur-[150px] rounded-full pointer-events-none animate-float will-change-transform transform-gpu translate-z-0"}),e.jsxs("div",{className:"max-w-[1400px] mx-auto w-full space-y-10 relative z-10",children:[e.jsxs("header",{className:"flex flex-col xl:flex-row justify-between items-start xl:items-end gap-8 animate-slide-up pb-4 will-change-transform",children:[e.jsxs("div",{className:"space-y-4 flex-1",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"px-4 py-2 rounded-xl bg-skin-card border border-skin-border backdrop-blur-md tech-mono text-[9px] font-black uppercase text-accent tracking-[0.3em] shadow-[0_0_20px_rgba(var(--accent-rgb),0.1)] flex items-center gap-2 sheen",children:[e.jsx(Me,{size:12})," NEURAL_ARSENAL_v2.0"]}),e.jsx("div",{className:"h-[1px] w-12 bg-gradient-to-r from-accent/50 to-transparent"})]}),e.jsxs("h2",{className:"text-[13vw] md:text-[6rem] xl:text-[7rem] font-black italic tracking-tighter text-transparent bg-clip-text bg-gradient-to-br from-skin-text via-skin-text to-skin-muted leading-[0.85] uppercase drop-shadow-sm break-words",children:["NEURAL ",e.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-accent to-purple-500 animate-gradient-text",children:"TOOLS"})]})]}),e.jsxs("div",{className:"flex items-center gap-3 px-6 py-4 bg-skin-card/60 border border-skin-border rounded-2xl tech-mono text-[9px] font-black uppercase tracking-widest text-skin-muted shadow-lg backdrop-blur-xl group hover:border-accent/30 transition-all hover:shadow-[0_0_30px_rgba(var(--accent-rgb),0.15)] sheen",children:[e.jsxs("div",{className:"relative",children:[e.jsx(Ce,{size:14,className:"text-emerald-500 animate-pulse"}),e.jsx("div",{className:"absolute inset-0 bg-emerald-500 blur-sm opacity-50 animate-pulse"})]}),e.jsx("span",{className:"group-hover:text-skin-text transition-colors",children:"MULTI_ENGINE_READY"})]})]}),e.jsxs("div",{className:"space-y-6 transform-gpu pb-20",children:[e.jsx(Je,{isOpen:t==="GENERATIVE",onToggle:()=>h("GENERATIVE"),icon:e.jsx(ze,{})}),e.jsx(tt,{isOpen:t==="ANALYTIC",onToggle:()=>h("ANALYTIC"),icon:e.jsx(ge,{})})]}),e.jsx("div",{className:"flex justify-center pt-8 pb-4 opacity-40",children:e.jsxs("div",{className:"flex items-center gap-2 text-[9px] font-mono text-skin-muted uppercase tracking-widest",children:[e.jsx(se,{size:12}),e.jsx("span",{children:"GPU_ACCELERATION: ENABLED"})]})})]})]})});export{ot as default};
